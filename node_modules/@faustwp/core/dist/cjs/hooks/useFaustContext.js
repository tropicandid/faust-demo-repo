"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useFaustQuery = void 0;
// eslint-disable-next-line import/extensions
const utilities_1 = require("@apollo/client/utilities");
const js_sha256_1 = require("js-sha256");
const react_1 = require("react");
const FaustContext_js_1 = require("../store/FaustContext.js");
function useFaustQuery(query) {
    var _a;
    const context = (0, react_1.useContext)(FaustContext_js_1.FaustContext);
    if (context === undefined) {
        throw new Error('useFaustQuery must be used within a FaustProvider');
    }
    const sha = (0, js_sha256_1.sha256)((0, utilities_1.print)(query));
    // eslint-disable-next-line no-underscore-dangle
    return (_a = context === null || context === void 0 ? void 0 : context.queries) === null || _a === void 0 ? void 0 : _a[sha];
}
exports.useFaustQuery = useFaustQuery;
